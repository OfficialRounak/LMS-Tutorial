(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{2725:function(e,t,r){Promise.resolve().then(r.t.bind(r,6656,23)),Promise.resolve().then(r.t.bind(r,6208,23)),Promise.resolve().then(r.t.bind(r,8169,23)),Promise.resolve().then(r.t.bind(r,3699,23)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,1726)),Promise.resolve().then(r.bind(r,1507)),Promise.resolve().then(r.bind(r,8085)),Promise.resolve().then(r.bind(r,7459)),Promise.resolve().then(r.bind(r,6088)),Promise.resolve().then(r.bind(r,7383)),Promise.resolve().then(r.bind(r,9140)),Promise.resolve().then(r.bind(r,2263)),Promise.resolve().then(r.bind(r,4291)),Promise.resolve().then(r.bind(r,6895))},6895:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var s=r(7437),a=r(3762),n=r(306),i=r(6264),l=r(9242),d=r(1981),o=r(2265),c=r(8110),m=r(1865),u=r(4578),f=r(6737),h=r(5925),x=r(4033),p=r(2173),g=r(3904),j=r(8122),b=r(4664),v=r(3905),y=e=>{let{items:t,onEdit:r,onReorder:a}=e,[i,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(t);return((0,o.useEffect)(()=>{l(!0)},[]),(0,o.useEffect)(()=>{c(t)},[t]),i)?(0,s.jsx)(j.Z5,{onDragEnd:e=>{if(!e.destination)return;let t=Array.from(d),[r]=t.splice(e.source.index,1);t.splice(e.destination.index,0,r);let s=Math.min(e.source.index,e.destination.index),n=Math.max(e.source.index,e.destination.index),i=t.slice(s,n+1);c(t);let l=i.map(e=>({id:e.id,position:t.findIndex(t=>t.id===e.id)}));a(l)},children:(0,s.jsx)(j.bK,{droppableId:"chapters",children:e=>(0,s.jsxs)("div",{...e.droppableProps,ref:e.innerRef,children:[d.map((e,t)=>(0,s.jsx)(j._l,{draggableId:e.id,index:t,children:t=>(0,s.jsxs)("div",{className:(0,n.cn)("flex items-center gap-x-2 bg-slate-200 border-slate-200 border text-slate-700 rounded-md mb-4 text-sm",e.isPublished&&"bg-sky-100 border-sky-200 text-sky-700"),ref:t.innerRef,...t.draggableProps,children:[(0,s.jsx)("div",{className:(0,n.cn)("px-2 py-3 border-r border-r-slate-200 hover:bg-slate-300 rounded-l-md transition",e.isPublished&&"border-r-sky-200 hover:bg-sky-200"),...t.dragHandleProps,children:(0,s.jsx)(b.Z,{className:"h-5 w-5"})}),e.title,(0,s.jsxs)("div",{className:"ml-auto pr-2 flex items-center gap-x-2",children:[e.isFree&&(0,s.jsx)("div",{className:"bg-slate-400 text-white border rounded-md p-2",children:"Free"}),(0,s.jsx)("div",{className:(0,n.cn)("bg-slate-500 text-white border rounded-md p-2",e.isPublished&&"bg-sky-700 text-white border rounded-md p-2"),children:e.isPublished?"Published":"Draft"}),(0,s.jsx)(v.Z,{onClick:()=>r(e.id),className:"w-4 h-4 cursor-pointer hover:opacity-75 transition"})]})]})},e.id)),e.placeholder]})})}):null};let N=u.z.object({title:u.z.string().min(1)});var w=e=>{let{initialData:t,courseId:r}=e,[u,j]=(0,o.useState)(!1),[b,v]=(0,o.useState)(!1),w=(0,x.useRouter)(),C=()=>{j(e=>!e)},S=(0,m.cI)({resolver:(0,c.F)(N),defaultValues:{title:""}}),{isValid:k,isSubmitting:z}=S.formState,F=async e=>{try{await p.Z.post("/api/courses/".concat(r,"/chapters"),e),h.default.success("Course updated"),C(),w.refresh()}catch(e){h.default.error("Something went wrong!")}},I=async e=>{try{v(!0),await p.Z.put("/api/courses/".concat(r,"/chapters/reorder"),{list:e}),h.default.success("Chapters Reordered"),w.refresh()}catch(e){h.default.error("Something went wrong!")}finally{v(!1)}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4 relative",children:[b&&(0,s.jsx)("div",{className:"absolute h-full w-full bg-slate-500/20 top-0 right-0 rounded-md flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"h-7 w-7 animate-spin text-sky-600"})}),(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Chapters",(0,s.jsx)(a.z,{variant:"ghost",onClick:C,children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-4"})," Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Add Chapters"]})})]}),u&&(0,s.jsx)(f.l0,{...S,children:(0,s.jsxs)("form",{onSubmit:S.handleSubmit(F),className:"space-y-8",children:[(0,s.jsx)(f.Wi,{control:S.control,name:"title",render:e=>{let{field:t}=e;return(0,s.jsxs)(f.xJ,{children:[(0,s.jsx)(f.NI,{children:(0,s.jsx)(g.I,{placeholder:" Write your chapter name ...",...t})}),(0,s.jsx)(f.pf,{children:"eg: Add your course chapters here"}),(0,s.jsx)(f.zG,{})]})}}),(0,s.jsx)(a.z,{disabled:z||!k,type:"submit",children:"Create"})]})}),!u&&(0,s.jsxs)("div",{className:(0,n.cn)("text-sm mt-2",!t.chapters.length&&"text-slate-500 italic"),children:[!t.chapters.length&&"No chapters",(0,s.jsx)(y,{onEdit:e=>{w.push("/teacher/courses/".concat(r,"/chapters/").concat(e))},onReorder:I,items:t.chapters||[]})]}),!u&&(0,s.jsx)("p",{className:"text-muted-foreground mt-4 text-xs",children:"Drag and drop to reorder chapters"})]})}},6088:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(7437),a=r(3762),n=r(306),i=r(9242),l=r(3905),d=r(2265),o=r(8110),c=r(1865),m=r(4578),u=r(6737);let f=d.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});f.displayName="Textarea";var h=r(5925),x=r(4033),p=r(2173);let g=m.z.object({description:m.z.string().min(1,{message:"Username must be at least 2 characters."})});var j=e=>{let{initialData:t,courseId:r}=e,[m,j]=(0,d.useState)(!1),b=(0,x.useRouter)(),v=()=>{j(e=>!e)},y=(0,c.cI)({resolver:(0,o.F)(g),defaultValues:{description:(null==t?void 0:t.description)||""}}),{isValid:N,isSubmitting:w}=y.formState,C=async e=>{try{await p.Z.patch("/api/courses/".concat(r),e),h.default.success("Course updated"),v(),b.refresh()}catch(e){h.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Description",(0,s.jsx)(a.z,{variant:"ghost",onClick:v,children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-4"})," Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit Description"]})})]}),!m&&(0,s.jsx)("p",{className:(0,n.cn)("text-sm mt-2",!t.description&&"text-slate-500 italic"),children:t.description||"No description"}),m&&(0,s.jsx)(u.l0,{...y,children:(0,s.jsxs)("form",{onSubmit:y.handleSubmit(C),className:"space-y-8",children:[(0,s.jsx)(u.Wi,{control:y.control,name:"description",render:e=>{let{field:t}=e;return(0,s.jsxs)(u.xJ,{children:[(0,s.jsx)(u.NI,{children:(0,s.jsx)(f,{placeholder:" Write your description here ...",...t})}),(0,s.jsx)(u.pf,{children:"eg: What is your course about."}),(0,s.jsx)(u.zG,{})]})}}),(0,s.jsx)(a.z,{disabled:w||!N,type:"submit",children:"Submit"})]})})]})}},4291:function(e,t,r){"use strict";r.r(t),r.d(t,{FileAttachmentForm:function(){return x}});var s=r(7437),a=r(4578),n=r(2173),i=r(1981),l=r(8734),d=r(6264),o=r(2549),c=r(2265),m=r(5925),u=r(4033),f=r(3762),h=r(1033);a.Ry({url:a.Z_().min(1)});let x=e=>{let{initialData:t,courseId:r}=e,[a,x]=(0,c.useState)(!1),[p,g]=(0,c.useState)(null),j=()=>x(e=>!e),b=(0,u.useRouter)(),v=async e=>{try{await n.Z.post("/api/courses/".concat(r,"/attachments"),e),m.default.success("Course updated"),j(),b.refresh()}catch(e){m.default.error("Something went wrong")}},y=async e=>{try{g(e),await n.Z.delete("/api/courses/".concat(r,"/attachments/").concat(e)),m.default.success("File Deleted"),b.refresh()}catch(e){m.default.error("Something went wrong!")}finally{g(null)}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between",children:["Attachments",(0,s.jsxs)(f.z,{onClick:j,variant:"ghost",children:[a&&(0,s.jsx)(s.Fragment,{children:"Cancel"}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Add a file"]})]})]}),!a&&(0,s.jsxs)(s.Fragment,{children:[0===t.attachments.length&&(0,s.jsx)("p",{className:"text-dm mt-2 italic text-slate-500",children:"No attachments"}),t.attachments.length>0&&(0,s.jsx)("div",{children:t.attachments.map(e=>(0,s.jsxs)("div",{className:"flex items-center p-3 w-full bg-sky-100 border-sky-200 text-sky-700 rounded-md",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2 flex-shrink-0"}),e.name,(0,s.jsxs)("p",{className:"ml-auto",children:[p===e.id&&(0,s.jsx)("div",{children:(0,s.jsx)(d.Z,{className:"h-4 w-4 animate-spin"})}),p!==e.id&&(0,s.jsx)("button",{className:"hover:opacity-75 transition",onClick:()=>y(e.id),children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})]})]},e.id))})]}),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)(h.p,{endpoint:"courseAttachments",onChange:e=>{e&&v({url:e})}}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-4",children:"Add anything which might be needed for your students to comeplete the course."})]})]})}},7383:function(e,t,r){"use strict";r.r(t),r.d(t,{ImageForm:function(){return p}});var s=r(7437),a=r(4578),n=r(2173),i=r(1981),l=r(3905),d=r(8438),o=r(2265),c=r(5925),m=r(4033),u=r(6691),f=r.n(u),h=r(3762),x=r(1033);a.Ry({imageUrl:a.Z_().min(1,{message:"Image is required"})});let p=e=>{let{initialData:t,courseId:r}=e,[a,u]=(0,o.useState)(!1),p=()=>u(e=>!e),g=(0,m.useRouter)(),j=async e=>{try{await n.Z.patch("/api/courses/".concat(r),e),c.default.success("Course updated"),p(),g.refresh()}catch(e){c.default.error("Something went wrong")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between",children:["Course image",(0,s.jsxs)(h.z,{onClick:p,variant:"ghost",children:[a&&(0,s.jsx)(s.Fragment,{children:"Cancel"}),!a&&!t.imageUrl&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Add an image"]}),!a&&t.imageUrl&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit image"]})]})]}),!a&&(t.imageUrl?(0,s.jsx)("div",{className:"relative aspect-video mt-2",children:(0,s.jsx)(f(),{alt:"Upload",fill:!0,className:"object-cover rounded-md",src:t.imageUrl})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-60 bg-slate-200 rounded-md",children:(0,s.jsx)(d.Z,{className:"h-10 w-10 text-slate-500"})})),a&&(0,s.jsxs)("div",{children:[(0,s.jsx)(x.p,{endpoint:"courseImage",onChange:e=>{e&&j({imageUrl:e})}}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-4",children:"16:9 aspect ratio recommended"})]})]})}},2263:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437),a=r(8110),n=r(1865),i=r(4578),l=r(2173),d=r(3762),o=r(3904),c=r(6737),m=r(2265),u=r(9242),f=r(3905),h=r(5925),x=r(4033),p=r(306),g=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);let j=i.z.object({price:i.z.coerce.number()});var b=e=>{let{initialData:t,courseId:r}=e,[i,b]=(0,m.useState)(!1),v=(0,x.useRouter)(),y=()=>{b(!i)},N=(0,n.cI)({resolver:(0,a.F)(j),defaultValues:{price:(null==t?void 0:t.price)||void 0}}),{isSubmitting:w,isValid:C}=N.formState,S=async e=>{try{await l.Z.patch("/api/courses/".concat(r),e),h.default.success("Course updated"),y(),v.refresh()}catch(e){h.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Price",(0,s.jsx)(d.z,{onClick:y,variant:"ghost",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-4"}),"Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Edit price"]})})]}),!i&&(0,s.jsx)("div",{className:(0,p.cn)("text-sm mt-2",!t.price&&"italic text-slate-500"),children:t.price?g(t.price):"No price"}),i&&(0,s.jsx)(c.l0,{...N,children:(0,s.jsxs)("form",{onSubmit:N.handleSubmit(S),className:"space-y-4 mt-4",children:[(0,s.jsx)(c.Wi,{control:N.control,name:"price",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.NI,{children:(0,s.jsx)(o.I,{step:"0.01",type:"number",disabled:w,placeholder:"Set a price for your course",...t})}),(0,s.jsx)(c.pf,{children:"Write your Course name here. e.g: Adavnced Web Development"}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(d.z,{disabled:!C||w,type:"submit",children:"Save"})})]})})]})}},9140:function(e,t,r){"use strict";r.r(t),r.d(t,{SelectOptionForm:function(){return U}});var s=r(7437),a=r(8110),n=r(1865),i=r(4578),l=r(2173),d=r(3762),o=r(6737),c=r(2265),m=r(9242),u=r(3905),f=r(5925),h=r(4033),x=r(9957),p=r(2442),g=r(306),j=r(5271),b=r(1827),v=r(3452),y=r(2549);v.fC,v.xz;let N=v.h_;v.x8;let w=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(v.aV,{ref:t,className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a})});w.displayName=v.aV.displayName;let C=c.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(N,{children:[(0,s.jsx)(w,{}),(0,s.jsxs)(v.VY,{ref:t,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n,children:[a,(0,s.jsxs)(v.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});C.displayName=v.VY.displayName;let S=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(v.Dx,{ref:t,className:(0,g.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});S.displayName=v.Dx.displayName;let k=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(v.dk,{ref:t,className:(0,g.cn)("text-sm text-muted-foreground",r),...a})});k.displayName=v.dk.displayName;let z=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.mY,{ref:t,className:(0,g.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",r),...a})});z.displayName=j.mY.displayName;let F=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(b.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,s.jsx)(j.mY.Input,{ref:t,className:(0,g.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",r),...a})]})});F.displayName=j.mY.Input.displayName;let I=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.mY.List,{ref:t,className:(0,g.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",r),...a})});I.displayName=j.mY.List.displayName;let Z=c.forwardRef((e,t)=>(0,s.jsx)(j.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Z.displayName=j.mY.Empty.displayName;let R=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.mY.Group,{ref:t,className:(0,g.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",r),...a})});R.displayName=j.mY.Group.displayName;let P=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.mY.Separator,{ref:t,className:(0,g.cn)("-mx-1 h-px bg-border",r),...a})});P.displayName=j.mY.Separator.displayName;let Y=c.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(j.mY.Item,{ref:t,className:(0,g.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...a})});Y.displayName=j.mY.Item.displayName;var _=r(3684);let E=_.fC,W=_.xz,D=c.forwardRef((e,t)=>{let{className:r,align:a="center",sideOffset:n=4,...i}=e;return(0,s.jsx)(_.h_,{children:(0,s.jsx)(_.VY,{ref:t,align:a,sideOffset:n,className:(0,g.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})})});D.displayName=_.VY.displayName;let V=e=>{var t;let{options:r,value:a,onChange:n}=e,[i,l]=c.useState(!1);return(0,s.jsxs)(E,{open:i,onOpenChange:l,children:[(0,s.jsx)(W,{asChild:!0,children:(0,s.jsxs)(d.z,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between",children:[a?null===(t=r.find(e=>e.value===a))||void 0===t?void 0:t.label:"Select option...",(0,s.jsx)(x.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,s.jsx)(D,{className:"w-[200px] p-0",children:(0,s.jsxs)(z,{children:[(0,s.jsx)(F,{placeholder:"Search option..."}),(0,s.jsx)(Z,{children:"No framework found."}),(0,s.jsx)(R,{children:r.map(e=>(0,s.jsxs)(Y,{value:e.value,onSelect:()=>{n(e.value===a?"":e.value),l(!1)},children:[(0,s.jsx)(p.Z,{className:(0,g.cn)("mr-2 h-4 w-4",a===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]})},A=i.z.object({categoryId:i.z.string().min(1,{message:"Category is required"})}),U=e=>{let{initialData:t,courseId:r,options:i}=e,[x,p]=(0,c.useState)(!1),j=(0,h.useRouter)(),b=()=>{p(!x)},v=(0,n.cI)({resolver:(0,a.F)(A),defaultValues:{categoryId:""}}),{isSubmitting:y,isValid:N}=v.formState,w=async e=>{try{await l.Z.patch("/api/courses/".concat(r),e),f.default.success("Course updated"),b(),j.refresh()}catch(e){f.default.error("Something went wrong!")}},C=i.find(e=>e.value===t.categoryId);return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Category",(0,s.jsx)(d.z,{onClick:b,variant:"ghost",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-4"}),"Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Select Category"]})})]}),!x&&(0,s.jsx)("p",{className:(0,g.cn)("text-sm mt-2",!t.categoryId&&"text-slate-500 italic"),children:(null==C?void 0:C.label)||"No Category"}),x&&(0,s.jsx)(o.l0,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-4 mt-4",children:[(0,s.jsx)(o.Wi,{control:v.control,name:"categoryId",render:e=>{let{field:t}=e;return(0,s.jsxs)(o.xJ,{children:[(0,s.jsx)(o.NI,{children:(0,s.jsx)(V,{options:i,...t})}),(0,s.jsx)(o.pf,{children:"Select a category of your course from the list. e.g: Fitness"}),(0,s.jsx)(o.zG,{})]})}}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(d.z,{disabled:!N||y,type:"submit",children:"Save"})})]})})]})}},7459:function(e,t,r){"use strict";r.r(t);var s=r(7437),a=r(8110),n=r(1865),i=r(4578),l=r(2173),d=r(3762),o=r(3904),c=r(6737),m=r(2265),u=r(9242),f=r(3905),h=r(5925),x=r(4033);let p=i.z.object({title:i.z.string().min(1,{message:"Title is required"})});t.default=e=>{let{initialData:t,courseId:r}=e,[i,g]=(0,m.useState)(!1),j=(0,x.useRouter)(),b=()=>{g(!i)},v=(0,n.cI)({resolver:(0,a.F)(p),defaultValues:{title:""}}),{isSubmitting:y,isValid:N}=v.formState,w=async e=>{try{await l.Z.patch("/api/courses/".concat(r),e),h.default.success("Course updated"),b(),j.refresh()}catch(e){h.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Title",(0,s.jsx)(d.z,{onClick:b,variant:"ghost",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-4"}),"Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Edit Title"]})})]}),!i&&(0,s.jsx)("div",{className:"text-sm mt-2",children:t.title}),i&&(0,s.jsx)(c.l0,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-4 mt-4",children:[(0,s.jsx)(c.Wi,{control:v.control,name:"title",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.NI,{children:(0,s.jsx)(o.I,{disabled:y,placeholder:"Title here ..",...t})}),(0,s.jsx)(c.pf,{children:"Write your Course name here.  e.g: Adavnced Web Development"}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(d.z,{disabled:!N||y,type:"submit",children:"Save"})})]})})]})}},1033:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var s=r(7437),a=r(9792);let{UploadDropzone:n,UploadButton:i,Uploader:l}=(0,a.jp)();var d=r(5925);let o=e=>{let{onChange:t,endpoint:r}=e;return(0,s.jsx)(n,{endpoint:r,onClientUploadComplete:e=>{t(null==e?void 0:e[0].url)},onUploadError:e=>{d.default.error("".concat(null==e?void 0:e.message))}})}},3762:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return o}});var s=r(7437),a=r(2265),n=r(7256),i=r(6061),l=r(306);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",sky:"bg-sky-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:o=!1,...c}=e,m=o?n.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(d({variant:a,size:i,className:r})),ref:t,...c})});o.displayName="Button"},6737:function(e,t,r){"use strict";r.d(t,{l0:function(){return u},NI:function(){return b},pf:function(){return v},Wi:function(){return h},xJ:function(){return g},lX:function(){return j},zG:function(){return y}});var s=r(7437),a=r(2265),n=r(7256),i=r(1865),l=r(306),d=r(6743),o=r(6061);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(d.f,{ref:t,className:(0,l.cn)(c(),r),...a})});m.displayName=d.f.displayName;let u=i.RV,f=a.createContext({}),h=e=>{let{...t}=e;return(0,s.jsx)(f.Provider,{value:{name:t.name},children:(0,s.jsx)(i.Qr,{...t})})},x=()=>{let e=a.useContext(f),t=a.useContext(p),{getFieldState:r,formState:s}=(0,i.Gc)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},p=a.createContext({}),g=a.forwardRef((e,t)=>{let{className:r,...n}=e,i=a.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...n})})});g.displayName="FormItem";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e,{error:n,formItemId:i}=x();return(0,s.jsx)(m,{ref:t,className:(0,l.cn)(n&&"text-destructive",r),htmlFor:i,...a})});j.displayName="FormLabel";let b=a.forwardRef((e,t)=>{let{...r}=e,{error:a,formItemId:i,formDescriptionId:l,formMessageId:d}=x();return(0,s.jsx)(n.g7,{ref:t,id:i,"aria-describedby":a?"".concat(l," ").concat(d):"".concat(l),"aria-invalid":!!a,...r})});b.displayName="FormControl";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e,{formDescriptionId:n}=x();return(0,s.jsx)("p",{ref:t,id:n,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});v.displayName="FormDescription";let y=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e,{error:i,formMessageId:d}=x(),o=i?String(null==i?void 0:i.message):a;return o?(0,s.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-sm font-medium text-destructive",r),...n,children:o}):null});y.displayName="FormMessage"},3904:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),a=r(2265),n=r(306);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},306:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(7042),a=r(3986);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m)((0,s.W)(t))}}},function(e){e.O(0,[338,690,170,142,454,766,424,71,971,596,744],function(){return e(e.s=2725)}),_N_E=e.O()}]);