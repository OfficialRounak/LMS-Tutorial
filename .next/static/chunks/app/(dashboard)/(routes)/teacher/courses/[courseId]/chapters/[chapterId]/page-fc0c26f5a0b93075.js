(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{7871:function(e,t,r){Promise.resolve().then(r.t.bind(r,6685,23)),Promise.resolve().then(r.t.bind(r,6656,23)),Promise.resolve().then(r.t.bind(r,6208,23)),Promise.resolve().then(r.t.bind(r,8169,23)),Promise.resolve().then(r.t.bind(r,3699,23)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,1726)),Promise.resolve().then(r.bind(r,1507)),Promise.resolve().then(r.bind(r,8085)),Promise.resolve().then(r.bind(r,9723)),Promise.resolve().then(r.bind(r,3676)),Promise.resolve().then(r.bind(r,8517)),Promise.resolve().then(r.bind(r,5573)),Promise.resolve().then(r.bind(r,7283))},8517:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),n=r(3762),a=r(306),i=r(9242),l=r(3905),o=r(2265),d=r(8110),c=r(1865),u=r(4578),m=r(6737),f=r(5925),h=r(4033),x=r(2173),p=r(2237),j=r(2442);let b=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(p.fC,{ref:t,className:(0,a.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:(0,s.jsx)(p.z$,{className:(0,a.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})})})});b.displayName=p.fC.displayName;let v=u.z.object({isFree:u.z.boolean().default(!1)});var g=e=>{let{initialData:t,courseId:r,chapterId:u}=e,[p,j]=(0,o.useState)(!1),g=(0,h.useRouter)(),y=()=>{j(e=>!e)},N=(0,c.cI)({resolver:(0,d.F)(v),defaultValues:{isFree:!!(null==t?void 0:t.isFree)}}),{isValid:w,isSubmitting:C}=N.formState,k=async e=>{try{await x.Z.patch("/api/courses/".concat(r,"/chapters/").concat(u),e),f.default.success("Chapter updated"),y(),g.refresh()}catch(e){f.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Chapter Access Control",(0,s.jsx)(n.z,{variant:"ghost",onClick:y,children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-4"})," Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit Access Control"]})})]}),!p&&(0,s.jsx)("div",{className:(0,a.cn)("text-sm mt-2",!t.isFree&&"text-slate-500 italic"),children:t.isFree?(0,s.jsx)(s.Fragment,{children:"This chapter is free."}):(0,s.jsx)(s.Fragment,{children:"This chapter is not free."})}),p&&(0,s.jsx)(m.l0,{...N,children:(0,s.jsxs)("form",{onSubmit:N.handleSubmit(k),className:"space-y-8",children:[(0,s.jsx)(m.Wi,{control:N.control,name:"isFree",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.xJ,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4 shadow",children:[(0,s.jsx)(m.NI,{children:(0,s.jsx)(b,{checked:t.value,onCheckedChange:t.onChange})}),(0,s.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,s.jsx)(m.lX,{children:"Click to toggle"}),(0,s.jsx)(m.pf,{children:"You can manage whether you want your chapter free or not"})]})]})}}),(0,s.jsx)(n.z,{disabled:C||!w,type:"submit",children:"Submit"})]})})]})}},5573:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var s=r(7437),n=r(2265),a=r(2506),i=r(306),l=r(3762);let o=a.fC,d=a.xz,c=a.h_,u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n,ref:t})});u.displayName=a.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(a.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n})]})});m.displayName=a.VY.displayName;let f=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};f.displayName="AlertDialogHeader";let h=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="AlertDialogFooter";let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",r),...n})});x.displayName=a.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...n})});p.displayName=a.dk.displayName;let j=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aU,{ref:t,className:(0,i.cn)((0,l.d)(),r),...n})});j.displayName=a.aU.displayName;let b=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.$j,{ref:t,className:(0,i.cn)((0,l.d)({variant:"outline"}),"mt-2 sm:mt-0",r),...n})});b.displayName=a.$j.displayName;let v=e=>{let{children:t,onConfirm:r}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(d,{asChild:!0,children:t}),(0,s.jsxs)(m,{children:[(0,s.jsxs)(f,{children:[(0,s.jsx)(x,{children:"Are you absolutely sure?"}),(0,s.jsx)(p,{children:"This action cannot be undone."})]}),(0,s.jsxs)(h,{children:[(0,s.jsx)(b,{children:"Cancel"}),(0,s.jsx)(j,{onClick:r,children:"Continue"})]})]})]})};var g=r(2173),y=r(4737),N=r(4033),w=r(5925),C=e=>{let{disabled:t,chapterId:r,courseId:a,isPublished:i}=e,[o,d]=(0,n.useState)(!1),c=(0,N.useRouter)(),u=async()=>{try{d(!0),await g.Z.delete("/api/courses/".concat(a,"/chapters/").concat(r)),w.default.success("Chapter Deleted"),c.refresh(),c.push("/teacher/courses/".concat(a))}catch(e){w.default.error("Something went wrong!")}finally{d(!1)}};return(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)(l.z,{disabled:t||o,onClick:()=>{},variant:"outline",size:"sm",children:i?"Unpublish":"Publish"}),(0,s.jsx)(v,{onConfirm:u,children:(0,s.jsx)(l.z,{size:"sm",disabled:o,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})})})]})}},3676:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var s=r(7437),n=r(3762),a=r(306),i=r(9242),l=r(3905),o=r(2265),d=r(8110),c=r(1865),u=r(4578),m=r(6737),f=r(5925),h=r(4033),x=r(2173),p=r(8864),j=r.n(p);r(432);let b=e=>{let{onChange:t,value:n}=e,a=(0,o.useMemo)(()=>j()(()=>Promise.all([r.e(70),r.e(233)]).then(r.t.bind(r,6233,23)),{loadableGenerated:{webpack:()=>[6233]},ssr:!1}),[]);return(0,s.jsx)("div",{className:"bg-white",children:(0,s.jsx)(a,{theme:"snow",value:n,onChange:t})})},v=e=>{let{value:t}=e;return(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})},g=u.z.object({description:u.z.string().min(1)});var y=e=>{let{initialData:t,courseId:r,chapterId:u}=e,[p,j]=(0,o.useState)(!1),y=(0,h.useRouter)(),N=()=>{j(e=>!e)},w=(0,c.cI)({resolver:(0,d.F)(g),defaultValues:{description:(null==t?void 0:t.describtion)||""}}),{isValid:C,isSubmitting:k}=w.formState,F=async e=>{try{await x.Z.patch("/api/courses/".concat(r,"/chapters/").concat(u),e),f.default.success("Chapter updated"),N(),y.refresh()}catch(e){f.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Description",(0,s.jsx)(n.z,{variant:"ghost",onClick:N,children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-4"})," Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit Description"]})})]}),!p&&(0,s.jsxs)("div",{className:(0,a.cn)("text-sm mt-2",!t.describtion&&"text-slate-500 italic"),children:[!t.describtion&&"No description",t.describtion&&(0,s.jsx)(v,{value:t.describtion})]}),p&&(0,s.jsx)(m.l0,{...w,children:(0,s.jsxs)("form",{onSubmit:w.handleSubmit(F),className:"space-y-8",children:[(0,s.jsx)(m.Wi,{control:w.control,name:"description",render:e=>{let{field:t}=e;return(0,s.jsxs)(m.xJ,{children:[(0,s.jsx)(m.NI,{children:(0,s.jsx)(b,{...t})}),(0,s.jsx)(m.pf,{children:"eg: What is your course about."}),(0,s.jsx)(m.zG,{})]})}}),(0,s.jsx)(n.z,{disabled:k||!C,type:"submit",children:"Submit"})]})})]})}},9723:function(e,t,r){"use strict";r.r(t);var s=r(7437),n=r(8110),a=r(1865),i=r(4578),l=r(2173),o=r(3762),d=r(3904),c=r(6737),u=r(2265),m=r(9242),f=r(3905),h=r(5925),x=r(4033);let p=i.z.object({title:i.z.string().min(1)});t.default=e=>{let{initialData:t,courseId:r,chapterId:i}=e,[j,b]=(0,u.useState)(!1),v=(0,x.useRouter)(),g=()=>{b(!j)},y=(0,a.cI)({resolver:(0,n.F)(p),defaultValues:{title:""}}),{isSubmitting:N,isValid:w}=y.formState,C=async e=>{try{await l.Z.patch("/api/courses/".concat(r,"/chapters/").concat(i),e),h.default.success("Chapter title updated"),g(),v.refresh()}catch(e){h.default.error("Something went wrong!")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between ",children:["Course Title",(0,s.jsx)(o.z,{onClick:g,variant:"ghost",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-4"}),"Cancel"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Edit Title"]})})]}),!j&&(0,s.jsx)("div",{className:"text-sm mt-2",children:t.title}),j&&(0,s.jsx)(c.l0,{...y,children:(0,s.jsxs)("form",{onSubmit:y.handleSubmit(C),className:"space-y-4 mt-4",children:[(0,s.jsx)(c.Wi,{control:y.control,name:"title",render:e=>{let{field:t}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.NI,{children:(0,s.jsx)(d.I,{disabled:N,placeholder:"Title here ..",...t})}),(0,s.jsx)(c.pf,{children:"Write your Chapter name here."}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)(o.z,{disabled:!w||N,type:"submit",children:"Save"})})]})})]})}},7283:function(e,t,r){"use strict";r.r(t),r.d(t,{ChapterVideoForm:function(){return x}});var s=r(7437),n=r(4578),a=r(2173),i=r(1981),l=r(3905),o=r(8339),d=r(2265),c=r(5925),u=r(4033),m=r(1),f=r(3762),h=r(1033);n.Ry({videoUrl:n.Z_().min(1)});let x=e=>{var t;let{initialData:r,courseId:n,chapterId:x}=e,[p,j]=(0,d.useState)(!1),b=()=>j(e=>!e),v=(0,u.useRouter)(),g=async e=>{try{await a.Z.patch("/api/courses/".concat(n,"/chapters/").concat(x),e),c.default.success("Course updated"),b(),v.refresh()}catch(e){c.default.error("Something went wrong")}};return(0,s.jsxs)("div",{className:"mt-6 border bg-slate-100 rounded-md p-4",children:[(0,s.jsxs)("div",{className:"font-medium flex items-center justify-between",children:["Course image",(0,s.jsxs)(f.z,{onClick:b,variant:"ghost",children:[p&&(0,s.jsx)(s.Fragment,{children:"Cancel"}),!p&&!r.videoUrl&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{className:"h-4 w-4 mr-2"}),"Add a video"]}),!p&&r.videoUrl&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{className:"h-4 w-4 mr-2"}),"Edit video"]})]})]}),!p&&(r.videoUrl?(0,s.jsx)("div",{className:"relative aspect-video mt-2",children:(0,s.jsx)(m.Z,{playbackId:(null==r?void 0:null===(t=r.muxData)||void 0===t?void 0:t.playbackId)||""})}):(0,s.jsx)("div",{className:"flex items-center justify-center h-60 bg-slate-200 rounded-md",children:(0,s.jsx)(o.Z,{className:"h-10 w-10 text-slate-500"})})),p&&(0,s.jsxs)("div",{children:[(0,s.jsx)(h.p,{endpoint:"chapterVideo",onChange:e=>{e&&g({videoUrl:e})}}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-4",children:"16:9 aspect ratio recommended"})]}),r.videoUrl&&!p&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"Video might take few minutes to process. Refresh the page if video doesnt appear"})]})}},1033:function(e,t,r){"use strict";r.d(t,{p:function(){return d}});var s=r(7437),n=r(9792);let{UploadDropzone:a,UploadButton:i,Uploader:l}=(0,n.jp)();var o=r(5925);let d=e=>{let{onChange:t,endpoint:r}=e;return(0,s.jsx)(a,{endpoint:r,onClientUploadComplete:e=>{t(null==e?void 0:e[0].url)},onUploadError:e=>{o.default.error("".concat(null==e?void 0:e.message))}})}},3762:function(e,t,r){"use strict";r.d(t,{d:function(){return o},z:function(){return d}});var s=r(7437),n=r(2265),a=r(7256),i=r(6061),l=r(306);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",sky:"bg-sky-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:d=!1,...c}=e,u=d?a.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:r})),ref:t,...c})});d.displayName="Button"},6737:function(e,t,r){"use strict";r.d(t,{l0:function(){return m},NI:function(){return v},pf:function(){return g},Wi:function(){return h},xJ:function(){return j},lX:function(){return b},zG:function(){return y}});var s=r(7437),n=r(2265),a=r(7256),i=r(1865),l=r(306),o=r(6743),d=r(6061);let c=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(o.f,{ref:t,className:(0,l.cn)(c(),r),...n})});u.displayName=o.f.displayName;let m=i.RV,f=n.createContext({}),h=e=>{let{...t}=e;return(0,s.jsx)(f.Provider,{value:{name:t.name},children:(0,s.jsx)(i.Qr,{...t})})},x=()=>{let e=n.useContext(f),t=n.useContext(p),{getFieldState:r,formState:s}=(0,i.Gc)(),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},p=n.createContext({}),j=n.forwardRef((e,t)=>{let{className:r,...a}=e,i=n.useId();return(0,s.jsx)(p.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...a})})});j.displayName="FormItem";let b=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:a,formItemId:i}=x();return(0,s.jsx)(u,{ref:t,className:(0,l.cn)(a&&"text-destructive",r),htmlFor:i,...n})});b.displayName="FormLabel";let v=n.forwardRef((e,t)=>{let{...r}=e,{error:n,formItemId:i,formDescriptionId:l,formMessageId:o}=x();return(0,s.jsx)(a.g7,{ref:t,id:i,"aria-describedby":n?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!n,...r})});v.displayName="FormControl";let g=n.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:a}=x();return(0,s.jsx)("p",{ref:t,id:a,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});g.displayName="FormDescription";let y=n.forwardRef((e,t)=>{let{className:r,children:n,...a}=e,{error:i,formMessageId:o}=x(),d=i?String(null==i?void 0:i.message):n;return d?(0,s.jsx)("p",{ref:t,id:o,className:(0,l.cn)("text-sm font-medium text-destructive",r),...a,children:d}):null});y.displayName="FormMessage"},3904:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7437),n=r(2265),a=r(306);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},306:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(7042),n=r(3986);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m)((0,s.W)(t))}}},function(e){e.O(0,[404,690,170,685,142,454,766,581,971,596,744],function(){return e(e.s=7871)}),_N_E=e.O()}]);